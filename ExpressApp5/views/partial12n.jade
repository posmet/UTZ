div(ng-controller="MyCtrl12 as $ctrl")
    div(ui-i18n='ru')
        form
            div(class="form-row" ng-repeat="cond in $ctrl.exchange.conditions")
                div(class="col-auto")
                    select(class="form-control-sm" ng-model="cond.field")
                        option(ng-repeat="opt in $ctrl.fieldsList" ng-value="opt.field"){{opt.name}}
                div(class="col-auto")
                    select(class="form-control-sm" ng-model="cond.cond")
                        option(ng-repeat="opt in $ctrl.compList"  ng-value="opt.val"){{opt.label}}
                div(class="col-auto")
                    input(type="text" class="form-control-sm" ng-model="cond.value")
                div(class="col-auto")
                    button(class="btn btn-outline-danger btn-sm" ng-click="ondelcond($index)")
                        i(class="fa fa-minus")
                    button(class="btn btn-outline-success btn-sm" ng-click="onaddcond()")
                        i(class="fa fa-plus")
            div(class="form-row" ng-show="$ctrl.exchange.conditions.length == 0")
                button(class="btn btn-outline-success btn-sm" ng-click="onaddcond()")
                    i(class="fa fa-plus")
            div(class="form-row")
                div(class="col-auto")
                    a(class="btn btn-outline-primary btn-sm" ng-click="onClick()") Получить
                    a(class="btn btn-outline-primary btn-sm" ng-click="onSearch()") Получить для подтверждения
                    a(class="btn btn-outline-primary btn-sm" ng-click="onFile()") Загрузить файл
                    a(class="btn btn-outline-primary btn-sm" ng-click="onSend()") Отправить
            div(class="form-row")
                div(class="col")
                    Позиция: {{$ctrl.exchange.grname}}
                div(class="col")
                    Аптека: {{$ctrl.exchange.phname}}
                div(class="col")
                   
        form
            div(class="form-row")
                a(class="btn btn-outline-primary btn-sm" ng-click="onAdd()") Добавить
                a(class="btn btn-outline-primary btn-sm" ng-click="onAdd1()") Добавить по коду
                a(class="btn btn-outline-danger btn-sm" ng-click="onDelete()") Удалить
                a(class="btn btn-outline-success btn-sm" ng-click="onAccept()") Подтвердить
                a(class="btn btn-outline-secondary btn-sm" ng-click="onCancel()") Отменить
                a(class="btn btn-outline-info btn-sm" ng-click="onstat()") Статистика
                a(class="btn btn-outline-info btn-sm" ng-click="onSaveState()") Сохранить
                {{rsp}}
            div(ng-show="loading") 
                i(class="fa fa-spinner fa-spin") 
                Загрузка ...
        div(ng-show="checkadd")
            p Введите групповой код:
            input(type="text" ng-model="newgrpcode")
            p Введите код аптеки:
            input(type="text" ng-model="newphcode")
        {{$ctrl.msg.lastCellEdited}}
        small
            div(class="grid" ui-grid="$ctrl.gridOptions" ui-grid-save-state ui-grid-move-columns ui-grid-exporter ui-grid-edit ui-grid-resize-columns ui-grid-selection ui-grid-cellnav ng-dblclick="onstat()")
